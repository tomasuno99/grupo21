{% extends 'base.html' %}
{% load staticfiles %}

{% block body%}
<body class="agregar_residencia" style="background-color:LightGrey;">
<section class="bggrey p-t-66 p-b-60">
  <div class="container">
    <div class="row">

    <div class="col-md-6 p-b-30">
        {% if user.is_staff and not user.is_premium %}
					<div class="p-r-20 p-r-0-lg">
						<div class="contact-map size2" >  <button id="boton" style="margin-top: 150px;"onclick= "admitir_editar()" class="btn btn-lg btn-dark btn-block"> Modificar Precio Premium</button></div>
                        <div class="contact-map size2" >  <button id="boton" style="margin-top: 150px;"onclick= "admitir_editar()" class="btn btn-lg btn-dark btn-block"> Modificar Precio Normal</button></div>
					</div>
				</div>
        {% endif %}

      <div class="col-sm-6 col-lg-6">
        <div class="login-panel panel panel-default">
          <div class="panel-heading">
            <br>
            <h3 class="panel-title" align="center">Mi Perfil</h3>
            <br>
          </div>
		<form method="POST" >{% csrf_token %}
			<div class="form-group">
				<label for="formGroupExampleInput">Nombre: </label>
				<input readonly class="form-control readonly" type="text" class="form-control" name="nombre" value={{user.nombre}}>
			</div>
			<div class="form-group">
				<label for="formGroupExampleInput2">Apellido: </label>
				<input readonly class="form-control readonly" type="number" min="0" class="form-control" name="apellido" value={{user.apellido}}>
				<small id="passwordHelpBlock" class="form-text text-muted">
					  Solo se admiten valores numericos.
				</small>
			</div>
			<div class="form-group">
				<label for="formGroupExampleInput">DNI: </label>
				<input readonly class="form-control readonly" type="text" class="form-control" name="dni" value={{user.dni}}>
			</div>
			<div class="form-group">
				<label for="formGroupExampleInput">Fecha de nacimiento: </label>
				<input readonly class="form-control readonly" type="text" class="form-control" name="fn" value="{{user.fecha_nacimiento}}">
			</div>
			<div class="form-group">
				<label for="formGroupExampleInput">E-Mail: </label>
				<input readonly class="form-control readonly" type="text" class="form-control" name="email" value="{{ user.email}}">
			</div>
			{% for message in messages %}
	
						<div class="alert alert-danger">
							<a class="close" href="#" data-dismiss="alert">Ã—</a>
	
							{{ message }}
	
						</div>
			{% endfor %}
			<button id="confirmar" style="display: none;" type="" class="btn btn-lg btn-warning btn-block">Confirmar</button>
            
		</form>
        <button id="boton" style="margin: 1px;"onclick= "admitir_editar()" class="btn btn-lg btn-dark btn-block"> Modificar Perfil</button>
		 </div>
        </div>
      </div>

      
    </div>
  </div>
  <br>
  </section>
  </body>

{% endblock %}
{% block jsmas %}

    <script>
        
        $("#confirmar").click(function (e) { 
            e.preventDefault();

            $("#confirmar").attr(type, 'submit');
            
        });
        function admitir_editar() {
            if ($(".readonly").attr("readonly") === "readonly") {
                $(".readonly").attr("readonly", false)
                $("#confirmar").show()
                $("#boton").text("Cancelar");
            }
            else {
                $(".readonly").attr("readonly", true)
                $("#boton").text("Modificar Perfil");
                $("#confirmar").hide()

            }
        }

    </script>

<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/animsition/js/animsition.min.js' %}"></script>
<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/bootstrap/js/popper.js' %}"></script>
	<script type="text/javascript" src="{% static 'css/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/select2/select2.min.js' %}"></script>
	<script type="text/javascript">
		$(".selection-1").select2({
			minimumResultsForSearch: 20,
			dropdownParent: $('#dropDownSelect1')
		});

		$(".selection-2").select2({
			minimumResultsForSearch: 20,
			dropdownParent: $('#dropDownSelect2')
		});
	</script>
<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/daterangepicker/moment.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'css/vendor/daterangepicker/daterangepicker.js' %}"></script>
<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/slick/slick.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/slick-custom.js' %}"></script>
<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/sweetalert/sweetalert.min.js' %}"></script>
	<script type="text/javascript">
		$('.block2-btn-addcart').each(function(){
			var nameProduct = $(this).parent().parent().parent().find('.block2-name').html();
			$(this).on('click', function(){
				swal(nameProduct, "is added to cart !", "success");
			});
		});

		$('.block2-btn-addwishlist').each(function(){
			var nameProduct = $(this).parent().parent().parent().find('.block2-name').html();
			$(this).on('click', function(){
				swal(nameProduct, "is added to wishlist !", "success");
			});
		});
	</script>

<!--===============================================================================================-->
	<script type="text/javascript" src="{% static 'css/vendor/noui/nouislider.min.js' %}"></script>
	<script type="text/javascript">
		/*[ No ui ]
	    ===========================================================*/
	    var filterBar = document.getElementById('filter-bar');

	    noUiSlider.create(filterBar, {
	        start: [ 50, 200 ],
	        connect: true,
	        range: {
	            'min': 50,
	            'max': 200
	        }
	    });

	    var skipValues = [
	    document.getElementById('value-lower'),
	    document.getElementById('value-upper')
	    ];

	    filterBar.noUiSlider.on('update', function( values, handle ) {
	        skipValues[handle].innerHTML = Math.round(values[handle]) ;
	    });
	</script>
<!--===============================================================================================-->
	<script src="{% static 'js/main.js' %}"></script>

</body>
</html>

{% endblock %}